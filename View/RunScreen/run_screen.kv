#:import STANDARD_INCREMENT kivymd.material_resources.STANDARD_INCREMENT
#:import Label kivy.core.text.Label
#:set _label Label(text="Выполнено\n{}%", font_size=26, color=(0.94, 1, 1, 1), halign="center", font_name="assets/fonts/FuturaMediumC.otf")


<CustomLabel@MDLabel>
    font_size: '24sp'
    font_name: 'assets/fonts/FuturaMediumC.otf'

<RunScreenView>

    MDBoxLayout:
        id: box
        orientation: 'vertical'
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        
        MDTopAppBar:
            id: maintopbar
            line_color: (0.2, 0.2, 0.2, 0.8)
            md_bg_color:'#001b31'
            right_action_items: 
                [
                ['help-circle', lambda x: root.callback(x), 'Помощь']
                ]
                
        MDFloatLayout:
            id: layout
            size_hint: 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            MDBoxLayout:
                orientation: 'vertical'
                pos_hint: {'center_x': 0.17, 'center_y': 0.5}
                size_hint_x: 0.35
                
                MDCard:
                    orientation: 'vertical'
                    md_bg_color: [0, 0, 0, 0.1]
                    padding: 20
                    spacing: 20

                    MDCard:
                        md_bg_color: [0, 0, 0, 0.1]
                        line_color: [0.2, 0.2, 0.2, 0.8]
                        size_hint: 1, 0.5
                        padding: 20
                        style: 'outlined'

                        CustomLabel:
                            id: temperature
                            color: '#F0FFFF'
                            text: 'Температура термоблока: '

                    MDCard:
                        md_bg_color: [0, 0, 0, 0.1]
                        line_color: [0.2, 0.2, 0.2, 0.8]
                        size_hint: 1, 0.5
                        padding: 20
                        style: 'outlined'

                        CustomLabel:
                            id: cycles
                            color: '#F0FFFF'
                            text: 'Циклы:'

                    MDCard:
                        md_bg_color: [0, 0, 0, 0.1]
                        line_color: [0.2, 0.2, 0.2, 0.8]
                        size_hint: 1, 0.5
                        padding: 20
                        style: 'outlined'

                        CustomLabel:
                            id: time_left
                            color: '#F0FFFF'
                            text: 'Времени осталось:'

                    MDCard:
                        md_bg_color: [0, 0, 0, 0.1]
                        line_color: [0.2, 0.2, 0.2, 0.8]
                        size_hint: 1, 0.5
                        padding: 20
                        style: 'outlined'

                        MDRaisedButton:
                            on_release: root.stop_run()
                            md_bg_color: [0.27, 0.59, 0.78, 0.8]
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            size_hint: 1, 1
                            color: '#F0FFFF'
                            text: 'Остановить'
                            font_size: '24sp'
                            font_name: 'assets/fonts/FuturaMediumC.otf'
                    

            CircularProgressBar:
                id: progress_bar
                pos: 305, 120
                cap_style: "SqUArE"
                progress_colour: [0.11, 0.56, 1, 1]
                background_colour: [0.25, 0.4, 0.43, 1]
                label: _label
        